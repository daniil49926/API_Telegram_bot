# Test API hotels BOT

***

 Данный проект представляет собой чат-бота для телеграмм.
 Главная задача бота - взаимодействие с API сайта https://www.hotels.com/.
 
***

### Начало работы:

Для начала работы необходимо скопировать репозиторий на свою локальную машину.

Далее, следует добавить файл с названием .env в корневую папку проекта. В этот файл необходимо добавить Ваш токен чат-бота telegram и ключ от данного [API](https://rapidapi.com/apidojo/api/hotels4/).
Также, для мониторинга ошибок, необходимо подключить проект к [sentry](https://sentry.io/).

```
TG_TOKEN='{Токен от telegram бота}'
RAPIDAPI_KEY='{Ключ от api}'
SENTRY_DSN='{dsn полученный при создание проекта в sentry}'
```
Для примера можно взять [файл](.env.template).

Установка зависимостей проекта
```
pip install -r requirements.txt
```

Запуск чат-бота
```
python main.py
```

### Основные команды:
<details>
 <summary>/lowprice - Вывод самых дешёвых отелей в городе</summary>

После ввода команды у пользователя запрашивается:


1. Город, где будет проводиться поиск.
2. Количество отелей, которые необходимо вывести в результате (не больше
заранее определённого максимума).
3. Необходимость загрузки и вывода фотографий для каждого отеля («Да/Нет»):
a. При положительном ответе пользователь также вводит количество
необходимых фотографий (не больше заранее определённого
максимума).

</details>
<details>
 <summary>/highprice - Вывод самых дорогих отелей в городе</summary>

После ввода команды у пользователя запрашивается:
1. Город, где будет проводиться поиск.
2. Количество отелей, которые необходимо вывести в результате (не больше
заранее определённого максимума).
3. Необходимость загрузки и вывода фотографий для каждого отеля («Да/Нет»):
a. При положительном ответе пользователь также вводит количество
необходимых фотографий (не больше заранее определённого
максимума).


</details>
<details>
 <summary>/bestdeal - Вывод отелей наиболее подходящих по цене и расположению от центра</summary>

После ввода команды у пользователя запрашивается:
1. Город, где будет проводиться поиск.
2. Диапазон цен.
3. Диапазон расстояния, на котором находится отель от центра.
4. Количество отелей, которые необходимо вывести в результате (не больше
заранее определённого максимума).
5. Необходимость загрузки и вывода фотографий для каждого отеля («Да/Нет»):
a. При положительном ответе пользователь также вводит количество
необходимых фотографий (не больше заранее определённого
максимума).


</details>
<details>
 <summary>/history - Вывод истории поиска отелей</summary>

После ввода команды пользователю выводится история поиска отелей этого пользователя. Сама история
содержит:
1. Команду, которую вводил пользователь.
2. Дату и время ввода команды.
3. Название отелей, которые были найдены.


</details>


***